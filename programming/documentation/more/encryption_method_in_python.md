# Python中加密的方法

  + [基础知识扫盲](#基础知识扫盲)

  + [库](#库)

## 基础知识扫盲

***

  + 对称加密

	- 对称密钥加密，又叫私钥加密。即信息发送的方和接受方用一个密钥去加密和揭秘数据。最大的优势是加解密速度快，适合对大量数据进行加密，对称加密的缺点是密钥的管理和分配，换句话说就是如何把密钥发送到需要解密你的消息的人手里的问题。在发送密钥的过程中，密钥有很大的风险被黑客拦截。现实中的做法是将对称加密的密钥进行非对称加密然后传给需要他的人。

  + 非对称加密

    - 非对称加密，又称公钥密钥加密。非对称加密为数据的加密与解密提供了一种非常安全的方式。她使用了一对密钥，私钥和公钥。私钥只能由一方安全保管，不能外泄，而公钥可以发给任何请求她的人。非对称加密使用这对密钥中的一个进行加密，而解密需要另外一个密钥。目前最常见的非对称加密算法是RSA算法。公钥机制灵活，但加密和解密速度却比对称密钥加密慢得多。公钥机制灵活，但是加密和解密速度却要比对称加密慢得多。

  + 举例

    - Alice需要在银行的网站做一笔交易，她的浏览器首先生成了一个随机数作为对称密钥。

    - Alice的浏览器向银行的网站请求公钥。

    - 银行将公钥发给了Alice。

    - Alice的浏览器使用银行的公钥将自己的对称密钥加密。

    - Alice的浏览器将加密后的对称密钥发送给银行。

    - 银行使用私钥解密得到Alice浏览器的对称密钥。

    - Alice与银行可以使用对称密钥来对共同的内容进行加密与解密了。

  + 总结

    - 对称加密与解密使用的是同样的密钥，所以速度快，但由于需要将密钥在网络中传输，所以安全性不高。

    - 非对称加密使用了一对密钥，公钥与私钥，所以安全性高，但加密与解密速度慢。

    - 解决的方法是将对称加密的密钥使用非对称加密的公钥进行加密，然后发送出去，接收方使用私钥进行解密得到对称加密的密钥，然后双方可以使用对称加密来进行沟通。

## 库

***

  + Base64

    - Base64是一种用65个字符（A~Z a~z 0~9 + / =）来表示任意二进制数据的方法。

    - import base64

  + MD5

    - message-digest algorithm 5（信息-摘要算法）。

    - MD5，其实就是一种算法。可以将一个字符串、文件或压缩包执行MD5运算，就可以生成一个长度固定为128bit的串。

    - import hashlib

  + DES

    - DES算法为密码体制中的对称密码体制，又被称为美国数据加密标准。

    - from Crypto.Cipher import DES

  + AES

    - 高级加密标准（Advanced Encryption Standard），在密码学中又称Rijndael加密法，是美国联邦政府采用的一种区块加密标准。这个标准用来替代原先的DES，已经被多方分析且广为全世界所使用。

    - from Crypto.Cipher import AES

```python
from Cryptodome.Cipher import AES
from Cryptodome import Random

# 要加密的明文
data = '南来北往'

# 密钥key必须为16（AES-128），24（AES-192），32（AES-256）
key = b'this is a 16 key'

# 生成长度等于AES 块大小的不可重复的密钥向量
iv = Random.new().read(AES.block_size)

# 使用key和iv初始化AES对象，使用MODE_CFB模式
mycipher = AES.new(key, AES.MODE_CFB, iv)

# 加密的明文长度必须为16的倍数，如果长度不为16的倍数，则需要补足为16的倍数
# 将iv(密钥向量)加到加密的密钥开头，一起传输
ciptext = iv + mycipher.encrypt(data.encode())

# 解密的话需要用key和iv生成的AES对象
mydecrypt = AES.new(key, AES.MODE_CFB, ciptext[:16])

# 使用新生成的AES对象，将加密的密钥解密
decrytext = mydecrypt.decrypt(ciptext[16:])

print(decrytext.decode())
```

  + RSA

    - RSA加密算法是一种非对称加密算法。在公开密钥加密和电子商业中RSA被广泛使用。

    - import rsa
